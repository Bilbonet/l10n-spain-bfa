<?xml version="1.0"?>

<odoo>

    <!-- Tipo registro 4 – Registro de ingresos: Una factura puede tener varias lineas de impuestos-->
    <record id="bfa_mod140_incomes_export_config" model="aeat.model.export.config">
        <field name="name">Mod.140.4 Ingresos</field>
        <field name="model_number">140</field>
        <field name="model_id" ref="l10n_es_bfa_mod140.model_l10n_es_bfa_mod140_line"/>
        <field name="date_start">2019-01-01</field>
    </record>
    <record id="bfa_mod140_incomes_export_line_01" model="aeat.model.export.config.line">
        <field name="sequence">1</field>
        <field name="export_config_id" ref="bfa_mod140_incomes_export_config"/>
        <field name="name">Tipo de Registro 4 – Registro de ingresos lineas impuestos</field>
        <field name="subconfig_id" ref="bfa_mod140_incomes_tax_export_config"/>
        <field name="export_type">subconfig</field>
        <field name="repeat_expression">object.tax_line_ids</field>
    </record>

    <!-- Tipo registro 4 – Registro de ingresos: Lineas de impuestos-->
    <record id="bfa_mod140_incomes_tax_export_config" model="aeat.model.export.config">
        <field name="name">Mod.140.4T Ingresos lineas impuestos</field>
        <field name="model_number">140</field>
        <field name="model_id" ref="l10n_es_bfa_mod140.model_l10n_es_bfa_mod140_line_tax"/>
        <field name="date_start">2019-01-01</field>
    </record>

    <!--          Posiciones  Naturaleza      Descripción-->
    <!--          1           Numérico        Tipo de Registro      Constante = '4'-->
    <record id="bfa_mod140_incomes_tax_export_line_01" model="aeat.model.export.config.line">
        <field name="sequence">1</field>
        <field name="export_config_id" ref="bfa_mod140_incomes_tax_export_config"/>
        <field name="name">Constante: 4</field>
        <field name="fixed_value">4</field>
        <field name="export_type">string</field>
        <field name="size">1</field>
        <field name="alignment">left</field>
    </record>
    <!--          2-4         Numérico        Modelo Declaración    Constante = '140'-->
    <record id="bfa_mod140_incomes_tax_export_line_02" model="aeat.model.export.config.line">
        <field name="sequence">2</field>
        <field name="export_config_id" ref="bfa_mod140_incomes_tax_export_config"/>
        <field name="name">Modelo: 140</field>
        <field name="fixed_value">140</field>
        <field name="export_type">integer</field>
        <field name="apply_sign" eval="False"/>
        <field name="size">3</field>
        <field name="alignment">right</field>
    </record>
    <!--          5-8         Numérico        Ejercicio-->
    <record id="bfa_mod140_incomes_tax_export_line_03" model="aeat.model.export.config.line">
        <field name="sequence">3</field>
        <field name="export_config_id" ref="bfa_mod140_incomes_tax_export_config"/>
        <field name="name">Ejercicio</field>
        <field name="expression">${object.mod140_line_id.mod140_id.year}</field>
        <field name="export_type">integer</field>
        <field name="apply_sign" eval="False"/>
        <field name="size">4</field>
        <field name="alignment">right</field>
    </record>
    <!--          9-17        Alfanumérico    NIF del declarante-->
    <record id="bfa_mod140_incomes_tax_export_line_04" model="aeat.model.export.config.line">
        <field name="sequence">4</field>
        <field name="export_config_id" ref="bfa_mod140_incomes_tax_export_config"/>
        <field name="name">NIF Declarante</field>
        <field name="expression">${object.mod140_line_id.mod140_id.company_vat}</field>
        <field name="export_type">string</field>
        <field name="size">9</field>
        <field name="alignment">left</field>
    </record>
    <!--          18-23       Numérico        Nº anotación: Numero correspondiente respecto a la totalidad-->
    <record id="bfa_mod140_incomes_tax_export_line_05" model="aeat.model.export.config.line">
        <field name="sequence">5</field>
        <field name="export_config_id" ref="bfa_mod140_incomes_tax_export_config"/>
        <field name="name">Nº anotación (rellenamos con ceros)</field>
        <field name="fixed_value">0</field>
        <field name="export_type">integer</field>
        <field name="apply_sign" eval="False"/>
        <field name="size">6</field>
        <field name="alignment">right</field>
    </record>
    <!--          24-30       Alfanumérico    Epigrafe actividad-->
    <record id="bfa_mod140_incomes_tax_export_line_06" model="aeat.model.export.config.line">
        <field name="sequence">6</field>
        <field name="export_config_id" ref="bfa_mod140_incomes_tax_export_config"/>
        <field name="name">Epigrafe Actividad</field>
        <field name="expression">${object.mod140_line_id.mod140_id.epigraph}</field>
        <field name="export_type">string</field>
        <field name="size">7</field>
        <field name="alignment">left</field>
    </record>
    <!--          31-32       Numérico        Identificación de la actividad: No se utiliza-->
    <record id="bfa_mod140_incomes_tax_export_line_07" model="aeat.model.export.config.line">
        <field name="sequence">7</field>
        <field name="export_config_id" ref="bfa_mod140_incomes_tax_export_config"/>
        <field name="name">Identificación de la actividad (discriminante)</field>
        <field name="fixed_value">0</field>
        <field name="export_type">integer</field>
        <field name="apply_sign" eval="False"/>
        <field name="size">2</field>
        <field name="alignment">right</field>
    </record>
    <!--          33          Alfanumérico    Tipo de operación: (A - Ingresos / Ventas)-->
    <record id="bfa_mod140_incomes_tax_export_line_08" model="aeat.model.export.config.line">
        <field name="sequence">8</field>
        <field name="export_config_id" ref="bfa_mod140_incomes_tax_export_config"/>
        <field name="name">Tipo de operación (Siempre 'A' no contemplamos otros supuestos)</field>
        <field name="expression">${object.mod140_line_id.operation_type}</field>
        <field name="export_type">string</field>
        <field name="size">1</field>
        <field name="alignment">left</field>
    </record>
    <!--          34          Alfanumérico    Tipo de registro-->
    <record id="bfa_mod140_incomes_tax_export_line_09" model="aeat.model.export.config.line">
        <field name="sequence">9</field>
        <field name="export_config_id" ref="bfa_mod140_incomes_tax_export_config"/>
        <field name="name">Tipo de registro</field>
        <field name="expression">${object.mod140_line_id.register_type}</field>
        <field name="export_type">string</field>
        <field name="size">1</field>
        <field name="alignment">left</field>
    </record>
    <!--          35          Alfanumérico    Operación especial-->
    <record id="bfa_mod140_incomes_tax_export_line_10" model="aeat.model.export.config.line">
        <field name="sequence">10</field>
        <field name="export_config_id" ref="bfa_mod140_incomes_tax_export_config"/>
        <field name="name">Operación especial</field>
        <field name="expression">${object.mod140_line_id.special_operation}</field>
        <field name="export_type">string</field>
        <field name="size">1</field>
        <field name="alignment">left</field>
    </record>



    <!--          500         Fin de Registro. Constante CRLF para salto de linea -->
    <record id="bfa_mod140_incomes_tax_export_line_40" model="aeat.model.export.config.line">
        <field name="sequence">40</field>
        <field name="export_config_id" ref="bfa_mod140_incomes_tax_export_config"/>
        <field name="name">Fin de Registro. Constante CRLF (Hexadecimal 0D0A, Decimal 1310)</field>
        <field name="expression">${"\r\n".encode("ascii")}</field>
        <field name="export_type">string</field>
        <field name="size">2</field>
        <field name="alignment">left</field>
    </record>
</odoo>